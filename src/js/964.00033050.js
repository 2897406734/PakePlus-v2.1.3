"use strict";(self["webpackChunkjiangxi"]=self["webpackChunkjiangxi"]||[]).push([[964],{1241:function(e,l){l.A=(e,l)=>{const a=e.__vccOpts||e;for(const[t,n]of l)a[t]=n;return a}},9140:function(e,l,a){a.r(l),a.d(l,{default:function(){return S}});var t=a(683),n=(a(5331),a(5385),a(7754)),o=(a(8642),a(3003),a(1040)),r=(a(6711),a(47)),i=(a(9648),a(4114),a(6768)),u=a(144),s=a(5130),d=a.p+"img/bg.69a129de.jpg";const c=["width","height"];var p={__name:"Sidentify",props:{identifyCode:{type:String,default:"1234"}},emits:["click"],setup(e,{emit:l}){const a=e,t=(0,u.KR)(null),n=(0,u.KR)(100),o=(0,u.KR)(40),r=()=>{if(!t.value)return;const e=t.value.getContext("2d");e.textBaseline="bottom",e.fillStyle="#f6f6f6",e.fillRect(0,0,n.value,o.value);for(let l=0;l<a.identifyCode.length;l++)s(e,a.identifyCode[l],l);d(e),p(e)},s=(e,l,t)=>{e.fillStyle=g(80,150),e.font=f(.8*o.value,o.value)+"px Arial";const r=(t+.5)*(n.value/a.identifyCode.length),i=f(.8*o.value,o.value),u=f(-30,30);e.translate(r,i),e.rotate(u*Math.PI/180),e.fillText(l,0,0),e.rotate(-u*Math.PI/180),e.translate(-r,-i)},d=e=>{for(let l=0;l<4;l++)e.strokeStyle=g(100,200),e.beginPath(),e.moveTo(f(0,n.value),f(0,o.value)),e.lineTo(f(0,n.value),f(0,o.value)),e.stroke()},p=e=>{for(let l=0;l<30;l++)e.fillStyle=g(0,255),e.beginPath(),e.arc(f(0,n.value),f(0,o.value),1,0,2*Math.PI),e.fill()},f=(e,l)=>Math.floor(Math.random()*(l-e)+e),g=(e,l)=>{const a=f(e,l),t=f(e,l),n=f(e,l);return`rgb(${a}, ${t}, ${n})`};return(0,i.sV)((()=>{r()})),(0,i.wB)((()=>a.identifyCode),(()=>{r()})),(e,l)=>((0,i.uX)(),(0,i.CE)("div",{class:"s-identify",onClick:l[0]||(l[0]=l=>e.$emit("click"))},[(0,i.Lk)("canvas",{ref_key:"canvas",ref:t,width:n.value,height:o.value},null,8,c)]))}},f=a(1241);const g=(0,f.A)(p,[["__scopeId","data-v-11a1b4e6"]]);var v=g,m=a(1387),h=a(7477),k=a(1219);const b=e=>((0,i.Qi)("data-v-bfee1a4c"),e=e(),(0,i.jt)(),e),y={class:"login"},w=b((()=>(0,i.Lk)("img",{src:d,alt:"",class:"bg",style:{"margin-right":"460px",width:"1000px"}},null,-1))),_=b((()=>(0,i.Lk)("div",{class:"t",style:{"margin-top":"20px"}},null,-1))),x=b((()=>(0,i.Lk)("div",{class:"t",style:{"margin-bottom":"40px","margin-top":"10px"}},null,-1))),F={class:"login-btn"};var C={__name:"Login",setup(e){const l=(0,m.rd)();let a=(0,u.KR)(""),d=(0,u.KR)("1234567890abcdefjhijklinopqrsduvwxyz");const c=(0,u.KR)(),p=(0,u.Kh)({username:"",pwd:"",code:""}),f={admin:"Aa546281,."},g=(e,l,t)=>{""===l?t(new Error("验证码不能为空")):l!==a.value?t(new Error("验证码错误")):t()},b=(0,u.Kh)({username:[{required:!0,message:"请输入账号！",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码！",trigger:"blur"}],code:[{validator:g,trigger:"blur"}]}),C=async e=>{e&&await e.validate(((e,a)=>{e&&(Object.keys(f).includes(p.username)&&f[p.username]===p.pwd?(sessionStorage.setItem("login","1"),l.push("/upload")):k.nk.error("账号或密码错误！"))}))},R=(e,l)=>(l+=1,Math.floor(Math.random()*(l-e)+e)),S=(e,l)=>{for(let t=0;t<l;t++)a.value+=e[R(0,e.length)]},V=()=>{a.value="",S(d.value,4)};return(0,i.sV)((()=>{a.value="",S(d.value,4),sessionStorage.clear(),localStorage.clear()})),(e,l)=>{const d=r.S2,f=o.WK,g=n.xE,m=n.US,k=t.Ik;return(0,i.uX)(),(0,i.CE)("div",y,[w,(0,i.bF)(k,{class:"login-box"},{default:(0,i.k6)((()=>[_,x,(0,i.bF)(m,{ref_key:"ruleFormRef",ref:c,style:{"max-width":"600px","margin-top":"15px"},model:p,rules:b,"label-width":"auto",class:"loginForm",size:"large","status-icon":""},{default:(0,i.k6)((()=>[(0,i.bF)(g,{prop:"username"},{default:(0,i.k6)((()=>[(0,i.bF)(f,{modelValue:p.username,"onUpdate:modelValue":l[0]||(l[0]=e=>p.username=e),placeholder:"请输入账号"},{prepend:(0,i.k6)((()=>[(0,i.bF)(d,{icon:(0,u.R1)(h.User),size:"large"},null,8,["icon"])])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(g,{prop:"pwd"},{default:(0,i.k6)((()=>[(0,i.bF)(f,{modelValue:p.pwd,"onUpdate:modelValue":l[1]||(l[1]=e=>p.pwd=e),type:"password","show-password":"",placeholder:"请输入密码"},{prepend:(0,i.k6)((()=>[(0,i.bF)(d,{icon:(0,u.R1)(h.Lock),size:"large"},null,8,["icon"])])),_:1},8,["modelValue"])])),_:1}),(0,i.bF)(g,{prop:"code"},{default:(0,i.k6)((()=>[(0,i.bF)(f,{modelValue:p.code,"onUpdate:modelValue":l[2]||(l[2]=e=>p.code=e),placeholder:"验证码",onKeydown:l[3]||(l[3]=(0,s.jR)((e=>C(c.value)),["enter"]))},{prepend:(0,i.k6)((()=>[(0,i.bF)(d,{icon:(0,u.R1)(h.Check),size:"large"},null,8,["icon"])])),append:(0,i.k6)((()=>[(0,i.bF)((0,u.R1)(v),{"identify-code":(0,u.R1)(a),onClick:V},null,8,["identify-code"])])),_:1},8,["modelValue"])])),_:1}),(0,i.Lk)("div",F,[(0,i.bF)(d,{type:"white",plain:"",size:"large",onClick:l[4]||(l[4]=e=>C(c.value))},{default:(0,i.k6)((()=>[(0,i.eW)("登录")])),_:1})])])),_:1},8,["model","rules"])])),_:1})])}}};const R=(0,f.A)(C,[["__scopeId","data-v-bfee1a4c"]]);var S=R},9648:function(e,l,a){a(5331)},5385:function(e,l,a){a(5331)},3003:function(e,l,a){a(5331)},8642:function(e,l,a){a(5331)},6711:function(e,l,a){a(5331)}}]);
//# sourceMappingURL=964.00033050.js.map